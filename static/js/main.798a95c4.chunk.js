(this["webpackJsonpamit-okr"]=this["webpackJsonpamit-okr"]||[]).push([[0],{12:function(e,t,n){e.exports={modalWrapper:"styles_modalWrapper__HJqaG",closeIcon:"styles_closeIcon__1z6VT"}},22:function(e,t,n){},23:function(e,t,n){},25:function(e,t,n){},27:function(e,t,n){},3:function(e,t,n){e.exports={wrapper:"styles_wrapper__101P2",borderList:"styles_borderList__2TbU-",childList:"styles_childList__2IsyE",dropdownIcon:"styles_dropdownIcon__3ov4a",darkDropDown:"styles_darkDropDown__rFpIO",modalContentWrapper:"styles_modalContentWrapper__emLRt"}},32:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(5),o=n.n(r),i=(n(22),n(23),n(2)),s=n(1),l=function(e){var t=e.handleClick,n=void 0===t?function(){}:t,c=e.data,a=void 0===c?{}:c,r=a.id,o=void 0===r?"":r,i=a.title,l=void 0===i?"":i;return Object(s.jsx)("div",{className:"cursor-pointer",onClick:function(){return n(a)},children:Object(s.jsx)("p",{children:l})},o)},d=n(3),u=n.n(d),j=function(e){var t=e.handleClick,n=e.data,c=void 0===n?[]:n;return Object(s.jsx)("ol",{type:"a",children:c.map((function(e){return Object(s.jsx)("li",{className:u.a.childList,children:Object(s.jsx)(l,{handleClick:t,data:e})},e.id)}))})},h=Object(c.memo)(j),b=n(8),f=(n(25),function(e){var t=e.activeSearchList,n=e.handleSearch,a=e.data,r=void 0===a?[]:a,o=Object(c.useState)(!1),l=Object(i.a)(o,2),d=l[0],u=l[1];return Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsx)("div",{className:"font14 ".concat(d?"":"tag-module-height"),children:Object(s.jsx)("div",{className:"flex-center-all flex-wrap",children:r.map((function(e){var c=e.id,a=e.label,r=t.includes(a);return Object(s.jsx)("div",{onClick:function(){return function(e,c){var a=new Set(t);c?a.delete(e):a.add(e),n(Object(b.a)(a))}(a,r)},className:"cursor-pointer m-1 p-1 tag ".concat(r?"active":""),children:a},c)}))})}),Object(s.jsx)("hr",{}),Object(s.jsxs)("div",{children:[r.length>4?Object(s.jsxs)("button",{onClick:function(){return u(!d)},className:"btn-primary font14 p-1 mx-1",children:[d?"Hide":"View More"," filters"]}):null,t.length?Object(s.jsx)("button",{onClick:function(){return n([])},className:"btn-primary font14 p-1 mx-1",children:"Reset"}):null]})]})}),p=n(11),O=n.n(p),v=n(14),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={},n=[],c=new Set;return e.forEach((function(e){var a=e.id,r=e.category,o=e.parent_objective_id,i=o||a;c.has(r)||(c.add(r),n.push({id:i,label:r})),t[i]=t[o]||{},o?(t[i].data=t[i].data||[],t[i].data.push(e)):t[i].parent=e})),{formattedDataResponse:Object.values(t),categoryList:n}},x=function(e){var t=e.sourceData,n=void 0===t?[]:t,a=e.activeSearchList,r=void 0===a?[]:a,o=Object(c.useState)([]),s=Object(i.a)(o,2),l=s[0],d=s[1],u=Object(c.useMemo)((function(){return m(n)}),[n]),j=u.formattedDataResponse,h=void 0===j?[]:j,b=u.categoryList;return Object(c.useEffect)((function(){if(r.length){var e=n.filter((function(e){return r.includes(e.category)}));d(m(e).formattedDataResponse||[])}else d(h)}),[r,h,n]),{formattedDataResponse:l,categoryList:b}},g=n.p+"static/media/logo.6ce24c58.svg",_=(n(27),function(){return Object(s.jsx)("div",{className:"loader__react-loader",children:Object(s.jsx)("img",{className:"loader__react-loader-logo",alt:"loader",src:g})})}),y=function(){var e=Object(v.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,fetch("https://okrcentral.github.io/sample-okrs/db.json").then((function(e){return e.json()})).then((function(e){t=e.data}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e){var t=e.children,n=Object(c.useState)(!1),a=Object(i.a)(n,2),r=a[0],o=a[1],l=Object(c.useState)([]),d=Object(i.a)(l,2),u=d[0],j=d[1],h=Object(c.useState)([]),b=Object(i.a)(h,2),f=b[0],p=b[1],O=x({sourceData:u,activeSearchList:f}),v=O.formattedDataResponse,m=O.categoryList;return Object(c.useEffect)((function(){o(!0),y().then((function(e){j(e),o(!1)}))}),[]),Object(s.jsxs)(S.Provider,{value:{formattedDataResponse:v,categoryList:m,handleSearch:p,activeSearchList:f},children:[r&&Object(s.jsx)(_,{}),t]})},S=a.a.createContext({}),L=S,C=function(e){var t=e.children,n=Object(c.useState)(!0),a=Object(i.a)(n,2),r=a[0],o=a[1],l=function(){return o(!r)};return Object(s.jsx)(N.Provider,{value:{isDarkTheme:r,toggleTheme:l},children:t(r,l)})},N=a.a.createContext({}),w=N,D=n(12),R=n.n(D),E=function(e){var t=e.onClose,n=e.open,c=void 0!==n&&n,a=e.children;return c?o.a.createPortal(Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:R.a.modalWrapper,onClick:t,children:[t&&Object(s.jsx)("span",{onClick:t,className:R.a.closeIcon,children:"+"}),Object(s.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:a})]})}),document.getElementById("root")):null},I=function(e){var t=e.data,n=void 0===t?{}:t;return Object(s.jsx)("div",{className:"".concat(u.a.modalContentWrapper," font14"),children:Object.keys(n).map((function(e,t){return Object(s.jsxs)("div",{className:"py-1",children:[Object(s.jsxs)("b",{children:[e,": "]}),JSON.stringify(n[e])]},t)}))})},T=Object(c.memo)(I),W=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)({}),o=Object(i.a)(r,2),d=o[0],j=o[1],b=Object(c.useContext)(L),p=Object(c.useContext)(w).isDarkTheme,O=b.formattedDataResponse,v=b.categoryList,m=b.activeSearchList,x=b.handleSearch;return Object(s.jsxs)("div",{className:"".concat(u.a.wrapper," font14 d-flex flex-column"),children:[Object(s.jsx)("div",{className:"py-2",children:Object(s.jsx)(f,{handleSearch:x,activeSearchList:m,data:v})}),Object(s.jsx)("div",{className:"overflow-auto",children:Object(s.jsx)("ol",{className:"px-3 m-0 float-left",children:O.map((function(e){var t=e.parent,c=void 0===t?{}:t,r=e.data,o=void 0===r?[]:r,i=c.id&&c.id===n;return c.id&&o.length?Object(s.jsxs)("ol",{className:u.a.borderList,children:[Object(s.jsxs)("div",{onClick:function(){return a(i?null:c.id)},children:[Object(s.jsx)("span",{className:"".concat(u.a.dropdownIcon," flex-center-all cursor-pointer ").concat(p?u.a.darkDropDown:""),children:i?"-":"+"}),Object(s.jsx)(l,{data:c})]}),i?Object(s.jsx)(h,{data:o,handleClick:function(e){return j(e)}}):null]},c.id):null}))})}),Object(s.jsx)(E,{onClose:function(){return j({})},open:!!Object.keys(d).length,children:Object(s.jsx)(T,{data:d})})]})},M=function(){return Object(s.jsx)("div",{className:"d-flex justify-content-center h-100",children:Object(s.jsx)(k,{children:Object(s.jsx)(W,{})})})},P=function(){return Object(s.jsx)(C,{children:function(e,t){return Object(s.jsxs)("div",{className:"".concat(e?"theme__dark":"theme__light"," h-100"),children:[Object(s.jsx)("div",{className:"btn-theme-toggle p-1 font12",onClick:t,children:e?"Light":"Dark"}),Object(s.jsx)(M,{})]})}})},J=n(17),U=n(4),F=n(15),B=n(16),G="REQUEST",H="SUCCESS",V="FAILURE",q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={};return[G,H,V].forEach((function(n){t[n]=e+"_"+n})),t}("GET_OKR_LIST"),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,data:[],error:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q[G]:return{isLoading:!0,data:[]};case q[H]:return{isLoading:!1,data:Object(b.a)(t.payload)};case q[V]:return{isLoading:!1,data:[],error:t.payload};default:return e}},A=Object(U.combineReducers)({okrList:z}),K=function(e){return function(t,n,c){return e((function(e,n){var c,a=performance.now(),r=t(e,n),o=performance.now(),i=(c=o-a,Math.round(100*c)/100);return console.log("reducer process time:",i),r}),n,c)}};var Q=function(e){var t=[B.composeWithDevTools,F.a],n=[U.applyMiddleware.apply(void 0,t),K],c=U.compose.apply(void 0,n);return Object(U.createStore)(A,e,c)}();o.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(J.a,{store:Q,children:Object(s.jsx)(P,{})})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.798a95c4.chunk.js.map